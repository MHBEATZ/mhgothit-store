<!DOCTYPE html><html><head>
<meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>Admin Upload</title>
<link rel="stylesheet" href="style.css">
</head>
<body class="center">
<h1>Upload Beat (Admin)</h1>

<div id="drop" class="drop">Drag MP3 Here</div>
<input id="title" placeholder="Beat Title">
<input id="basic" placeholder="Basic Price">
<input id="premium" placeholder="Premium Price">
<input id="exclusive" placeholder="Exclusive Price">

<button onclick="saveBeat()">Save Beat</button>
<button onclick="exportData()">Export Backup</button>

<script src="store.js"></script>
<script>
let fileData=null;

drop.ondragover=e=>{e.preventDefault();drop.classList.add('hover')}
drop.ondrop=e=>{
 e.preventDefault();
 const file=e.dataTransfer.files[0];
 const reader=new FileReader();
 reader.onload=()=>{fileData=reader.result;drop.innerText=file.name+" loaded"};
 reader.readAsDataURL(file);
};

function saveBeat(){
 if(!fileData)return alert("Upload MP3 first");

 const beat={
  title:title.value,
  preview:fileData,
  basic:Number(basic.value),
  premium:Number(premium.value),
  exclusive:Number(exclusive.value)
 };

 addBeat(beat);
 alert("Saved locally. (Static site mode)");
}

function exportData(){
 const data=localStorage.getItem('mhbeats');
 const blob=new Blob([data],{type:"application/json"});
 const a=document.createElement('a');
 a.href=URL.createObjectURL(blob);
 a.download="beats-backup.json";
 a.click();
}
</script>
</body></html>

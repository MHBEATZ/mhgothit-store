<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>MH Beats</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script src="https://unpkg.com/wavesurfer.js"></script>

<style>
:root{
  --fire:#ff6a00;
  --red:#b1121a;
  --bg:#050505;
  --card:#111;
  --text:#eaeaea;
}
*{box-sizing:border-box}

body{
  margin:0;
  font-family:Arial, sans-serif;
  background:black;
  color:var(--text);
  overflow-x:hidden;
}

canvas{
  position:fixed;
  inset:0;
  z-index:-1;
}

header{
  text-align:center;
  padding:90px 20px 40px;
}

header img{
  max-width:220px;
  margin-bottom:25px;
}

header h1{
  font-size:3rem;
  letter-spacing:3px;
}

header p{
  max-width:750px;
  margin:12px auto;
  opacity:.85;
}

/* STAT COUNTERS */
.stats{
  display:flex;
  justify-content:center;
  gap:40px;
  margin-top:35px;
  flex-wrap:wrap;
}

.stat{
  text-align:center;
}

.stat span{
  font-size:2.2rem;
  font-weight:bold;
  color:var(--fire);
}

section{
  max-width:1100px;
  margin:auto;
  padding:60px 20px;
}

#beats{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(280px,1fr));
  gap:20px;
}

.beat{
  background:var(--card);
  padding:15px;
  border-radius:12px;
  box-shadow:0 0 20px black;
}

.beat img{
  width:100%;
  border-radius:8px;
}

.wave{
  height:70px;
  margin:10px 0;
}

select,button{
  width:100%;
  padding:10px;
  margin-top:8px;
  border:none;
  border-radius:6px;
}

button{
  background:linear-gradient(135deg,var(--red),var(--fire));
  color:white;
  font-weight:bold;
  cursor:pointer;
}

.service-box{
  background:var(--card);
  padding:25px;
  border-radius:12px;
  box-shadow:0 0 20px black;
}

#cart{
  position:fixed;
  right:-320px;
  top:0;
  width:300px;
  height:100%;
  background:#0c0c0c;
  padding:20px;
  transition:.3s;
  z-index:10;
}

#cart.active{right:0}

#cartToggle{
  position:fixed;
  right:20px;
  bottom:20px;
  background:var(--fire);
  padding:14px;
  border-radius:50%;
  cursor:pointer;
  font-weight:bold;
  z-index:11;
}

#notif{
  position:fixed;
  top:20px;
  right:20px;
  background:var(--fire);
  padding:12px 18px;
  border-radius:8px;
  display:none;
}
</style>
</head>

<body>

<canvas id="bg"></canvas>

<header>
  <img src="artwork/logo.jpg" alt="MH Beats Logo">
  <h1>MH BEATS</h1>

  <p>
    Producer & sound architect crafting dark, high-energy beats since <strong>2013</strong>.
    Worked with artists worldwide and delivered industry-ready sound.
  </p>

  <!-- ANIMATED STATS -->
  <div class="stats">
    <div class="stat">
      <span data-target="2013">0</span>
      <p>Since</p>
    </div>
    <div class="stat">
      <span data-target="150">0</span>
      <p>Artists Worked With</p>
    </div>
    <div class="stat">
      <span data-target="500">0</span>
      <p>Beats Sold</p>
    </div>
  </div>

  <p style="opacity:.7;margin-top:20px">
    Trap â€¢ Drill â€¢ Rage â€¢ Underground
  </p>
</header>

<!-- BEATS -->
<section>
  <h2>Beats</h2>
  <div id="beats"></div>
</section>

<!-- MIX & MASTER -->
<section>
  <h2>Mix & Master Services</h2>
  <div class="service-box">
    <p>
      Industry-ready mixing & mastering for Trap, Drill, Rage & Hip-Hop.
      Clean vocals, heavy drums, loud streaming-optimized sound.
    </p>
    <ul>
      <li>âœ” Full Mix & Master</li>
      <li>âœ” Vocal tuning & cleanup</li>
      <li>âœ” Streaming loudness optimization</li>
      <li>âœ” Unlimited revisions</li>
    </ul>
    <a href="mailto:mhgothit@gmail.com">
      <button>Contact for Pricing</button>
    </a>
  </div>
</section>

<!-- CONTACT -->
<section>
  <h2>Contact Me</h2>
  <div class="service-box">
    <p>Custom beats, exclusives, or mixing & mastering.</p>
    <p><strong>Email:</strong> mhgothit@gmail.com</p>
    <a href="mailto:mhgothit@gmail.com">
      <button>Send Email</button>
    </a>
  </div>
</section>

<!-- CART -->
<div id="cart">
  <h2>ðŸ›’ Cart</h2>
  <ul id="cartItems"></ul>
  <button onclick="checkout()">Pay with PayPal</button>
</div>

<div id="cartToggle" onclick="toggleCart()">ðŸ›’</div>
<div id="notif"></div>

<script>
/* ðŸ”¥ ENHANCED 3D BACKGROUND */
const c=document.getElementById("bg"),ctx=c.getContext("2d");
let w,h,pts=[];
function resize(){w=c.width=innerWidth;h=c.height=innerHeight}
window.onresize=resize;resize();
for(let i=0;i<120;i++)pts.push({
 x:Math.random()*w,
 y:Math.random()*h,
 z:Math.random()*2+0.5,
 vx:(Math.random()-.5)*.25,
 vy:(Math.random()-.5)*.25
});
(function anim(){
 ctx.clearRect(0,0,w,h);
 pts.forEach(p=>{
  p.x+=p.vx;p.y+=p.vy;
  if(p.x<0||p.x>w)p.vx*=-1;
  if(p.y<0||p.y>h)p.vy*=-1;
  ctx.fillStyle=`rgba(255,100,0,${p.z})`;
  ctx.beginPath();
  ctx.arc(p.x,p.y,2*p.z,0,Math.PI*2);
  ctx.fill();
 });
 requestAnimationFrame(anim);
})();

/* ðŸ”¢ STAT COUNTER ANIMATION */
document.querySelectorAll(".stat span").forEach(el=>{
  let target=+el.dataset.target;
  let count=0;
  let speed=target>1000?20:10;
  const update=()=>{
    count+=Math.ceil(target/60);
    if(count>target) count=target;
    el.textContent=count+(el.dataset.target>2013?"+":"");
    if(count<target) requestAnimationFrame(update);
  };
  update();
});

/* STORE */
let cart=[],currentWave=null;

fetch("beats.json")
.then(r=>r.json())
.then(beats=>{
 const cont=document.getElementById("beats");
 beats.forEach((b,i)=>{
  const d=document.createElement("div");
  d.className="beat";
  d.innerHTML=`
    <img src="${b.art}">
    <h3>${b.title}</h3>
    <div class="wave" id="wave${i}"></div>
    <button onclick="play(${i})">â–¶ Play</button>
    <select id="lic${i}">
      <option value="mp3">MP3 â€“ $${b.licenses.mp3}</option>
      <option value="wav">WAV â€“ $${b.licenses.wav}</option>
      <option value="exclusive">Exclusive â€“ $${b.licenses.exclusive}</option>
    </select>
    <button onclick='addToCart(${JSON.stringify(b)},${i})'>Add to Cart</button>
  `;
  cont.appendChild(d);

  b.wave=WaveSurfer.create({
    container:"#wave"+i,
    waveColor:"#333",
    progressColor:"#ff6a00",
    height:60,
    barWidth:2
  });
  b.wave.load(b.audio);
 });
});

function play(i){
  const beat = document.querySelectorAll(".beat")[i];
  const waves = WaveSurfer.instances;
  if(currentWave) currentWave.pause();
  currentWave = waves[i];
  currentWave.playPause();
}

function addToCart(b,i){
 const lic=document.getElementById("lic"+i).value;
 cart.push({title:`${b.title} (${lic})`,price:b.licenses[lic]});
 notify("Added to cart");
 renderCart();
}

function renderCart(){
 const ul=document.getElementById("cartItems");
 ul.innerHTML="";
 cart.forEach(x=>{
  const li=document.createElement("li");
  li.textContent=`${x.title} â€“ $${x.price}`;
  ul.appendChild(li);
 });
}

function checkout(){
 const total=cart.reduce((s,b)=>s+b.price,0);
 if(total>0) window.open("https://paypal.me/mhboss2/"+total);
}

function toggleCart(){
 document.getElementById("cart").classList.toggle("active");
}

function notify(t){
 const n=document.getElementById("notif");
 n.textContent=t;
 n.style.display="block";
 setTimeout(()=>n.style.display="none",2000);
}
</script>

</body>
</html>

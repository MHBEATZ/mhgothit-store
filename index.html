<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>MH Beats</title>
<link rel="stylesheet" href="css/style.css">
<script src="https://www.paypal.com/sdk/js?client-id=REPLACE_WITH_YOUR_PAYPAL_CLIENT_ID&currency=USD"></script>
</head>
<body>

<div class="bg"></div>

<header>
<h1>MH BEATS</h1>
<p class="tag">Dark Trap • Drill • Rage</p>
</header>

<section id="store"></section>

<section class="free">
<h2>Get 1 Free Beat</h2>
<p>Enter your email to receive a free download</p>
<form action="https://formspree.io/f/YOUR_FORM_ID" method="POST">
<input type="email" name="email" placeholder="Your email" required>
<button type="submit">Get Free Beat</button>
</form>
</section>

<script src="beats.js"></script>
<script>
const store = document.getElementById("store");

BEATS.forEach((b,i) => {
  const div = document.createElement("div");
  div.className = "card";
  div.innerHTML = `
    <img src="${b.art}">
    <h3>${b.title}</h3>
    <audio controls src="${b.file}"></audio>
    <p>${b.genre}</p>
    <p>$${b.price}</p>
    <div id="paypal-${i}"></div>
  `;
  store.appendChild(div);

  paypal.Buttons({
    style:{color:"black",shape:"pill"},
    createOrder:(data,actions)=>actions.order.create({
      purchase_units:[{amount:{value:b.price}}]
    }),
    onApprove:(data,actions)=>actions.order.capture().then(()=>{
      alert("Payment successful! Check your email.");
    })
  }).render(`#paypal-${i}`);
});
</script>

</body>
</html>
